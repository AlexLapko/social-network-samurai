{"version":3,"sources":["redux/dialogs-reducer.js","assets/img/preloader.svg","components/Navbar/Navbar.module.css","serviceWorker.js","components/Navbar/Navbar.jsx","components/common/Paginator/Paginator.jsx","api/api.js","components/Users/User.jsx","components/Users/Users.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Preloader/Preloader.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Friends/Friends.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/common/FormsControls/FormsControls.js","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","redux/profile-reducer.js","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/redux-store.js","App.js","hoc/withSuspense.js","index.js","components/Profile/ProfileInfo/ProfileInfo.module.css","hoc/form.js","utils/validators/validators.js","components/Users/Users.module.css","components/common/FormsControls/FormsControls.module.css","components/common/Paginator/Paginator.module.css","assets/img/user.png","hoc/withAuthRedirect.js","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Header/Header.module.css"],"names":["initialState","dialogs","id","name","messages","message","sendMessageActionCreator","newMessageText","type","dialogsReducer","state","action","newMessage","module","exports","Boolean","window","location","hostname","match","Navbar","className","classes","item","to","activeClassName","activeLink","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginatorWrap","onClick","filter","p","map","cn","selectedPage","pageNumber","e","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","email","password","rememberMe","captcha","securityAPI","User","user","followingInProgress","unfollowThunk","followThunk","userWrap","key","userPhoto","src","photos","small","followed","disabled","some","userInfo","userName","userLocation","Users","totalUserCount","users","props","u","updateObjectInArray","items","itemId","objPropName","newObjProps","isFetching","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingInProgress","getUsersThunk","dispatch","a","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","usersReducer","Preloader","style","textAlign","preloader","usersPage","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","onPageChangedThunk","this","React","Component","compose","connect","bind","News","Music","Settings","Friends","ProfileStatusWithHooks","editMode","setEditMode","setStatus","useEffect","onChange","currentTarget","value","autoFocus","onBlur","onDoubleClick","createField","placeholder","validate","component","text","Field","ProfileDataReduxForm","reduxForm","form","handleSubmit","error","Input","Element","Textarea","onSubmit","formSummaryError","Object","keys","contacts","contact","ProfileData","isOwner","goToEditMode","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contact","ProfileInfo","descriptionBlock","photo","large","target","files","length","initialValues","Post","Post__item","Post__photo","likesCounts","maxLength30","maxLengthCreator","AddPostFormRedux","required","MyPosts","postsElements","posts","reverse","postsBlock","addPost","newPostText","getUserProfileThunk","profileReducer","newPost","postId","MyPostsContainer","profilePage","addPostActionCreator","Profile","ProfileContainer","params","authorizedUserId","history","getStatusThunk","refreshProfile","prevProps","prevState","updateStatusThunk","auth","isAuth","file","getState","stopSubmit","_error","Promise","reject","withRouter","withAuthRedirect","Header","login","logout","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserDataThunk","getCaptchaUrl","url","authReducer","HeaderContainer","LoginReduxForm","initialized","appReducer","reducers","combineReducers","dialogsPage","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","App","initializedApp","path","render","Suspense","fallback","AppContainer","promise","all","MainApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","input","meta","hasError","touched","formControl","maxLength","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.cf668023.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND-MESSAGE'\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t\t\t{ id: \"1\", name: \"Aliaksei\" },\r\n\t\t\t\t{ id: \"2\", name: \"Olga\" },\r\n\t\t\t\t{ id: \"3\", name: \"Mark\" },\r\n\t\t\t\t{ id: \"4\", name: \"Mila\" },\r\n\t\t\t\t{ id: \"5\", name: \"Sasha\" },\r\n\t\t\t\t{ id: \"6\", name: \"Dima\" }\r\n\t\t\t],\r\n\t\t\tmessages: [\r\n\t\t\t\t{ id: \"1\", message: \"Hi\" },\r\n\t\t\t\t{ id: \"2\", message: \"How are you?\" },\r\n\t\t\t\t{ id: \"3\", message: \"Yo\" },\r\n\t\t\t\t{ id: \"4\", message: \"YoYo\" },\r\n\t\t\t\t{ id: \"5\", message: \"YoYoYo\" }\r\n\t\t\t],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\tlet newMessage = {\r\n\t\t\t\tid: \"6\",\r\n\t\t\t\tmessage: action.newMessageText\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, newMessage],\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageText) => ({type: SEND_MESSAGE, newMessageText})\r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/preloader.ee608091.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navbar\":\"Navbar_Navbar__3GB-w\",\"item\":\"Navbar_item__2dk4O\",\"activeLink\":\"Navbar_activeLink__2LucW\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\r\nimport classes from './../Navbar/Navbar.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<nav className={classes.Navbar}>\r\n\t\t\t<ul>\r\n\t\t\t\t<li className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/profile\" activeClassName={classes.activeLink}>Profile</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/dialogs\" activeClassName={classes.activeLink}>Message</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/users\" activeClassName={classes.activeLink}>Users</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/news\" activeClassName={classes.activeLink}>News</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/music\" activeClassName={classes.activeLink}>Music</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/settings\" activeClassName={classes.activeLink}>Settings</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/friends\" activeClassName={classes.activeLink}>Friends</NavLink>\t\t\t\t\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t)\r\n}\r\n\r\nexport default Navbar;","import React, {useState} from 'react'\r\nimport classes from './Paginator.module.css'\r\nimport cn from 'classnames'\r\n\r\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 12 }) => {\r\n\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={classes.paginatorWrap}>\r\n      <div className={classes.Paginator}>\r\n        {portionNumber > 1 && <button onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button>}\r\n\r\n        <div>\r\n          {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => {\r\n              return (\r\n                <span className={cn({[classes.selectedPage] : currentPage === p}, classes.pageNumber)} onClick={e => {onPageChanged(p);}}>\r\n                  {p}\r\n                </span>\r\n              );\r\n            })}\r\n        </div>\r\n\r\n        {portionCount > portionNumber && <button onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n      \r\nexport default Paginator;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: { 'API-KEY': 'b287f2df-2cdb-40ea-a05a-c355b2481fa0' }\r\n})\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage, pageSize) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data;\r\n\t\t\t})\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t},\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t},\r\n\tgetProfile(userId) {\r\n\t\treturn profileAPI.getProfile(userId)\r\n\t}\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`)\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, {status: status} )\r\n\t},\r\n\tsavePhoto(photoFile) {\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('image', photoFile)\r\n\t\treturn instance.put(`profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tsaveProfile(profile) {\r\n\t\treturn instance.put(`profile`, profile)\r\n\t}\r\n}\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`)\r\n\t},\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`)\r\n\t}\r\n}\r\n\r\nexport const securityAPI = {\r\n\tgetCaptchaUrl() {\r\n\t\treturn instance.get(`security/get-captcha-url`)\r\n\t}\r\n}","import React from 'react'\r\nimport classes from './Users.module.css'\r\nimport userPhoto from './../../assets/img/user.png'\r\nimport { NavLink } from 'react-router-dom';\r\nimport { usersAPI } from \"./../../api/api\";\r\nimport Paginator from './../common/Paginator/Paginator';\r\n\r\nlet User = ({ user, followingInProgress, unfollowThunk, followThunk }) => {\r\n  return (\r\n    <div className={classes.userWrap} key={user.id}>\r\n      <div>\r\n        <div className={classes.userPhoto}>\r\n          <NavLink to={\"/profile/\" + user.id}>\r\n            <img\r\n              src={user.photos.small !== null ? user.photos.small : userPhoto}\r\n            />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.some(id => id === user.id)}\r\n              onClick={() => {\r\n                unfollowThunk(user.id);\r\n              }}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInProgress.some(id => id === user.id)}\r\n              onClick={() => {\r\n                followThunk(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className={classes.userInfo}>\r\n        <div className={classes.userName}>\r\n          <span>{user.name}</span>\r\n          <span>{user.status}</span>\r\n        </div>\r\n        <div className={classes.userLocation}>\r\n          <span>{\"user.location.country\"}</span>\r\n          <span>{\"user.location.city\"}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;","import React from 'react'\r\nimport Paginator from './../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nlet Users = ({ totalUserCount, pageSize, currentPage, onPageChanged, users, ...props }) => {\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        totalItemsCount={totalUserCount}\r\n        pageSize={pageSize}\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n      />\r\n\r\n      <div>\r\n        {users.map(u => ( <User \r\n                            key={u.id} \r\n                            user ={u} \r\n                            followingInProgress={props.followingInProgress} \r\n                            unfollowThunk={props.unfollowThunk} \r\n                            followThunk={props.followThunk} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\treturn items.map(u => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn {\r\n\t\t\t\t...u,\r\n\t\t\t\t...newObjProps\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn u;\r\n\t})\t \r\n}\r\n","import { usersAPI } from \"./../api/api\";\r\nimport {updateObjectInArray} from './../utils/object-helpers'\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLOWING_IS_PROGRESS = 'TOGGLE_IS_FOLOWING_IS_PROGRESS'\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 10,\r\n\ttotalUserCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: true,\r\n\tfollowingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n\t\t\t}\r\n\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n\t\t\t}\r\n\t\t\r\n\t\tcase SET_USERS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.users\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase SET_CURRENT_PAGE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentPage: action.currentPage\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase SET_TOTAL_USERS_COUNT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalUserCount: action.count\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase TOGGLE_IS_FETCHING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase TOGGLE_IS_FOLOWING_IS_PROGRESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.isFetching \r\n\t\t\t\t\t? [...state.followingInProgress, action.userId] \r\n\t\t\t\t\t: state.followingInProgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLOWING_IS_PROGRESS, isFetching, userId})\r\n\r\nexport const getUsersThunk = (currentPage, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(toggleIsFetching(true));\r\n\t\tlet data = await usersAPI.getUsers(currentPage, pageSize)\r\n\t\tdispatch(toggleIsFetching(false));\r\n\t\tdispatch(setUsers(data.items));\r\n\t\tdispatch(setTotalUsersCount(data.totalCount));\r\n\t}\r\n}\r\nexport const onPageChangedThunk = (pageNumber, pageSize) => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch(setCurrentPage(pageNumber));\r\n\t\tdispatch(getUsersThunk(pageNumber, pageSize));\r\n\t}\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingInProgress(true, userId));\r\n\tlet response = await apiMethod(userId)\r\n\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId));\r\n\t}\r\n\tdispatch(toggleFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n\t}\r\n}\r\nexport const unfollow = userId => {\r\n  return async dispatch => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n  };\r\n};\r\n\r\n\r\n\r\nexport default usersReducer;","import React from 'react'\r\nimport preloader from './../../../assets/img/preloader.svg'\r\n\r\nlet Preloader = (props) => {\r\n\treturn <div style={{ textAlign: \"center\" }}>\r\n      <img src={preloader} />\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","export const getUsers = (state) => {\r\n\treturn state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUserCount = (state) => {\r\n\treturn state.usersPage.totalUserCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n\treturn state.usersPage.followingInProgress\r\n}","import React from 'react'\r\nimport Users from './Users'\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  follow,\r\n  unfollow,\r\n  getUsersThunk,\r\n  onPageChangedThunk\r\n} from \"../../redux/users-reducer\";\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport {withAuthRedirect} from './../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux';\r\nimport { getUsers, getPageSize, getTotalUserCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n    let { currentPage, pageSize } = this.props;\r\n\t\tthis.props.getUsersThunk(currentPage, pageSize);\r\n\t}\r\n\r\n\tonPageChanged = (pageNumber) => {\r\n    let { pageSize } = this.props;\r\n\t\tthis.props.onPageChangedThunk(pageNumber, pageSize);\r\n\t}\r\n\r\n\trender () {\r\n\t\treturn (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUserCount={this.props.totalUserCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          followThunk={this.props.follow}\r\n          unfollowThunk={this.props.unfollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n\t}\t\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUserCount: getTotalUserCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  };\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {follow, unfollow, getUsersThunk, onPageChangedThunk})\r\n)(UsersContainer);\r\n\r\n\r\n/*let mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n    follow: userId => {\r\n      dispatch(followAC(userId));\r\n    },\r\n    unfollow: userId => {\r\n      dispatch(unfollowAC(userId));\r\n    },\r\n    setUsers: users => {\r\n      dispatch(setUsersAC(users));\r\n    },\r\n    setCurrentPage: pageNumber => {\r\n      dispatch(setCurrentPageAC(pageNumber));\r\n    },\r\n    setTotalCount: totalCount => {\r\n      dispatch(setTotalUsersCountAC(totalCount));\r\n    },\r\n    toggleIsFetching: isFetching => {\r\n      dispatch(toggleIsFetchingAC(isFetching));\r\n    }\r\n  };\r\n}*/","import React from \"react\";\r\nimport classes from \"./News.module.css\";\r\n\r\nconst News = props => {\r\n  return <div>News</div>;\r\n};\r\n\r\nexport default News;\r\n","import React from \"react\";\r\nimport classes from \"./Music.module.css\";\r\n\r\nconst Music = props => {\r\n  return <div>Music</div>;\r\n};\r\n\r\nexport default Music;\r\n","import React from \"react\";\r\nimport classes from \"./Settings.module.css\";\r\n\r\nconst Settings = props => {\r\n  return <div>Settings</div>;\r\n};\r\n\r\nexport default Settings;\r\n","import React from \"react\";\r\nimport classes from \"./Friends.module.css\";\r\n\r\nconst Friends = props => {\r\n  return <div>Friends</div>;\r\n};\r\n\r\nexport default Friends;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    \r\n  let [editMode, setEditMode] = useState(false)\r\n  let [status, setStatus] = useState(props.status)\r\n\r\n  useEffect( () => {\r\n    setStatus(props.status)\r\n  }, [props.status] )\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true)\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false)\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n    return (\r\n      <div>\r\n        {!editMode ? (\r\n          <div>\r\n            <b>Status: </b>\r\n            <span onDoubleClick={activateEditMode}>\r\n              {props.status || 'No status'}\r\n            </span>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <input\r\n              onChange={onStatusChange}\r\n              autoFocus={true}\r\n              onBlur={deactivateEditMode}\r\n              value={status}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from 'react'\r\nimport { Field } from \"redux-form\";\r\n\r\nexport const createField = (placeholder, validate, component, name, props = {}, text = '') => {\r\n\treturn (\r\n\t\t<div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        validate={validate}\r\n        component={component}\r\n\t\t\t\tname={name}\r\n\t\t\t\t{...props}\r\n      /> {text}\r\n\t\t</div>\r\n\t)\r\n}","import React from \"react\";\r\nimport { createField } from './../../common/FormsControls/FormsControls'\r\nimport { Element } from './../../../hoc/form'\r\nimport { reduxForm } from \"redux-form\";\r\nimport classes from './ProfileInfo.module.css'\r\n\r\nconst ProfileDataForm = ({ handleSubmit, profile, error }) => {\r\n\r\n  const Input = Element(\"input\");\r\n  const Textarea = Element(\"textarea\");\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div><button onClick={() => {}}>save</button></div>\r\n      {error && (\r\n        <div className={classes.formSummaryError}>{error}</div>\r\n      )}\r\n      <div>\r\n        <b>Full name:</b> {createField('Full name', [], Input, 'fullName')}\r\n      </div>\r\n\r\n      <div>\r\n        <b>Looking for a job:</b> {createField('', [], Input, 'lookingForAJob', {type: 'checkbox'})}\r\n      </div>\r\n      <div>\r\n        <b>My professional skills:</b>\r\n        {createField('My professional skills', [], Textarea, 'lookingForAJobDescription')}\r\n      </div>\r\n      <div>\r\n        <b>About me:</b>\r\n        {createField('About me', [], Textarea, 'aboutMe')}\r\n      </div>\r\n\r\n      <div>\r\n        <b>Contacts:</b> {Object.keys(profile.contacts).map(key => {\r\n          return <div key={key} className={classes.contact}><b>{key}:</b> {createField(key, [], Input, 'contacts.' + key)} </div>\r\n        })}\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst ProfileDataReduxForm = reduxForm({ form: 'edit-profile' })(ProfileDataForm);\r\n\r\nexport default ProfileDataReduxForm;\r\n","import React from \"react\";\r\nimport classes from './ProfileInfo.module.css'\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport userPhoto from './../../../assets/img/user.png'\r\nimport { useState } from \"react\";\r\nimport ProfileDataForm from './ProfileDataForm'\r\n\r\nconst ProfileInfo = ({ profile, status, updateStatus, isOwner, savePhoto, saveProfile }) => {\r\n\r\n  let [editMode, setEditMode] = useState(false);\r\n\r\n  if (!profile) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  const onMainPhotoSelected = (e) => {\r\n    if(e.target.files.length) {\r\n      savePhoto(e.target.files[0])\r\n    }\r\n  }\r\n\r\n  const onSubmit = formData => {\r\n    saveProfile(formData)\r\n      .then(\r\n        () => {\r\n          setEditMode(false)\r\n        }\r\n      )\r\n  };\r\n  \r\n\r\n  return (\r\n    <div className={classes.ProfileInfo}>\r\n      <div className={classes.descriptionBlock}>\r\n        <div className={classes.photo}>\r\n          <img src={profile.photos.large || userPhoto} />\r\n        </div>\r\n        {isOwner && <input type={'file'} onChange={onMainPhotoSelected} />}\r\n        <div className={classes.status}>\r\n          <ProfileStatusWithHooks\r\n            status={status}\r\n            updateStatus={updateStatus}\r\n          />\r\n        </div>\r\n        {editMode \r\n          ? <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit}/> \r\n          : <ProfileData goToEditMode={() => {setEditMode(true)}} profile={profile} isOwner={isOwner} />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ProfileData = ({ profile, isOwner, goToEditMode}) => {\r\n  return (\r\n    <div>\r\n      {isOwner && <div><button onClick={goToEditMode}>edit</button></div>}\r\n      <div>\r\n        <b>Full name:</b> {profile.fullName}\r\n      </div>\r\n\r\n      <div>\r\n        <b>Looking for a job:</b> {profile.lookingForAJob ? 'yes' : 'no'}\r\n      </div>\r\n\r\n      {profile.lookingForAJob &&\r\n        <div>\r\n          <b>My professional skills:</b> {profile.lookingForAJobDescription}\r\n        </div>\r\n      }\r\n      <div>\r\n        <b>About me:</b> {profile.aboutMe}\r\n      </div>\r\n\r\n      <div>\r\n        <b>Contacts:</b> {Object.keys(profile.contacts).map(key => {\r\n          return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]} />\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n return <div className={classes.contact}>\r\n   <b>{contactTitle}:</b> {contactValue}\r\n </div>\r\n}\r\n\r\nexport default ProfileInfo;\r\n","import React from 'react'\r\nimport classes from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n\treturn (\t\r\n\t\t<div className={classes.Post__item}>\r\n\t\t\t<img className={classes.Post__photo} src='https://www.meme-arsenal.com/memes/50569ac974c29121ff9075e45a334942.jpg' />\r\n\t\t\t{ props.message }\r\n\t\t\t<div>\r\n\t\t\t\t<span>like - {props.likesCounts }</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Post;","import React from 'react'\r\nimport classes from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {required, maxLengthCreator} from './../../../utils/validators/validators' \r\nimport { Element } from \"./../../../hoc/form\";\r\n\r\nconst MyPosts = (props) => {\r\n\r\n  let postsElements = [...props.posts].reverse().map(p => <Post message={p.message} key={p.id} likesCounts={p.likesCounts} />)\r\n\r\n  let addNewPostText = (value) => {\r\n    props.addPost(value.newPostText);\r\n  }\r\n \r\n\treturn (\r\n    <div className={classes.postsBlock}>\r\n      <h3>My posts</h3>\r\n      <AddPostFormRedux onSubmit={addNewPostText}/>\r\n      <div className={classes.posts}>\r\n        { postsElements }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst maxLength30 = maxLengthCreator(30)\r\nconst Textarea = Element(\"textarea\");\r\n\r\nconst AddPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          validate={[required, maxLength30]}\r\n          component={Textarea}\r\n          name=\"newPostText\"\r\n          placeholder=\"Enter your text\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <button>Add post</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nconst AddPostFormRedux = reduxForm({form: 'addPostText'})(AddPostForm);\r\n\r\nexport default MyPosts;","import {usersAPI, profileAPI} from './../api/api'\r\nimport {stopSubmit} from 'redux-form'\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t\t\t{ id: 1, message: \"Hi, how are you\", likesCounts: 15 },\r\n\t\t\t\t{ id: 2, message: \"It's my first post\", likesCounts: 20 },\r\n\t\t\t\t{ id: 3, message: \"Post\", likesCounts: 23 }\r\n\t\t\t],\r\n\t\t\tprofile: null,\r\n\t\t\tstatus: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 4,\r\n\t\t\t\tmessage: action.newPostText,\r\n\t\t\t\tlikesCounts: 0\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost],\r\n\t\t\t\tnewPostText: ''\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase SET_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tposts: state.posts.filter(p => p.id !== action.postId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SAVE_PHOTO_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: {...state.profile, photos: action.photos}\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE,\tprofile})\r\nexport const setStatus = (status) => ({type: SET_STATUS,\tstatus})\r\nexport const deletePost = (postId) => ({type: DELETE_POST,\tpostId})\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS,\tphotos})\r\n\r\nexport const getUserProfileThunk = userId => {\r\n\treturn async dispatch => {\r\n\t\tlet response = await usersAPI.getProfile(userId)\r\n\t\tdispatch(setUserProfile(response.data));\r\n\t};\r\n};\r\n\r\nexport const getStatusThunk = userId => {\r\n\treturn async dispatch => {\r\n\t\tlet response = await profileAPI.getStatus(userId)\r\n\t\tdispatch(setStatus(response.data));\r\n\t};\r\n};\r\n\r\nexport const updateStatusThunk = status => {\r\n\treturn async dispatch => {\r\n\t\tlet response = await profileAPI.updateStatus(status)\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch(setStatus(status));\r\n\t\t}\r\n\t};\t\r\n};\r\n\r\nexport const savePhoto = file => {\r\n\treturn async dispatch => {\r\n\t\tlet response = await profileAPI.savePhoto(file)\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch(savePhotoSuccess(response.data.data.photos));\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const saveProfile = profile => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst userId = getState().auth.userId \r\n\t\tconst response = await profileAPI.saveProfile(profile)\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch(getUserProfileThunk(userId));\r\n\t\t} else {\r\n\t\t\tdispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))\r\n\t\t\treturn Promise.reject(response.data.messages[0])\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport default profileReducer;","import React from 'react'\r\nimport MyPosts from './MyPosts'\r\nimport { addPostActionCreator } from './../../../redux/profile-reducer'\r\nimport { connect } from 'react-redux'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPostActionCreator(newPostText));\r\n    }\r\n  };\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\nconst Profile = (props) => {\r\n\treturn (\r\n    <div>\r\n      <ProfileInfo isOwner={props.isOwner} profile={props.profile} status={props.status} updateStatus={props.updateStatus} savePhoto={props.savePhoto} saveProfile={props.saveProfile}/>\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React from 'react'\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { getUserProfileThunk, getStatusThunk, updateStatusThunk, savePhoto, saveProfile } from \"./../../redux/profile-reducer\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from './../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n\trefreshProfile() {\r\n\t\tlet userId = this.props.match.params.userId\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.authorizedUserId;\r\n\t\t\tif (!userId) {\r\n\t\t\t\tthis.props.history.push('/login')\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.props.getUserProfileThunk(userId);\r\n\t\tthis.props.getStatusThunk(userId);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.refreshProfile()\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState){\r\n\t\tif (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n\t\t\tthis.refreshProfile()\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Profile \r\n\t\t\t\t{...this.props} \r\n\t\t\t\tisOwner={!this.props.match.params.userId}\r\n\t\t\t\tprofile={this.props.profile} \r\n\t\t\t\tstatus={this.props.status} \r\n\t\t\t\tupdateStatus={this.props.updateStatusThunk}\r\n\t\t\t\tsavePhoto={this.props.savePhoto}\r\n\t\t\t\tsaveProfile={this.props.saveProfile}\r\n\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = state => ({\r\n\tprofile: state.profilePage.profile,\r\n\tstatus: state.profilePage.status,\r\n\tauthorizedUserId: state.auth.userId,\r\n\tisAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, { getUserProfileThunk, getStatusThunk, updateStatusThunk, savePhoto, saveProfile }),\r\n\twithRouter,\r\n\twithAuthRedirect\r\n)(ProfileContainer);\r\n","import React from 'react'\r\nimport classes from './../Header/Header.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={classes.Header}>\r\n      <img src=\"https://www.designfreelogoonline.com/wp-content/uploads/2016/03/00106-3D-company-logo-design-free-logo-online-Template-03.png\" />\r\n\r\n      <div className={classes.login}>\r\n        {props.isAuth \r\n          ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n          : <NavLink to={\"/login\"}>Login</NavLink>}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\n\r\nexport default Header;","import { authAPI, securityAPI } from './../api/api'\r\nimport {stopSubmit} from 'redux-form'\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS'\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n\tcaptchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA: \r\n\t\tcase GET_CAPTCHA_URL_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ( { type: SET_USER_DATA, payload: {userId, email, login, isAuth} } )\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl} })\r\n\r\nexport const getAuthUserDataThunk = () => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n      let { id, email, login } = response.data.data;\r\n      dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n\t}\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(getAuthUserDataThunk());\r\n    } else {\r\n\t\t\tif (response.data.resultCode === 10) {\r\n\t\t\t\tdispatch(getCaptchaUrl())\r\n\t\t\t}\r\n\t\t\tlet message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n\t\t\tdispatch(stopSubmit('login', {_error: message}))\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const getCaptchaUrl = () => {\r\n\treturn async (dispatch) => {\r\n\t\tconst response = await securityAPI.getCaptchaUrl()\r\n\t\tconst captchaUrl = response.data.url\r\n\t\tdispatch(getCaptchaUrlSuccess(captchaUrl))\r\n\t\t}\r\n}\r\n\r\nexport const logout = () => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await authAPI.logout()\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch(setAuthUserData(null, null, null, true));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default authReducer;","import React from 'react'\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from \"./../../redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n     return <Header {...this.props}/>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React from 'react'\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport {Element} from './../../hoc/form'\r\nimport {required} from './../../utils/validators/validators'\r\nimport { connect } from 'react-redux';\r\nimport { login } from \"./../../redux/auth-reducer\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { createField } from \"./../common/FormsControls/FormsControls\";\r\nimport classes from './../common/FormsControls/FormsControls.module.css'\r\n\r\n\r\nconst Input = Element(\"input\");\r\n\r\nconst LoginForm = ({ handleSubmit, captchaUrl, error }) => {  \r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createField(\"Email\", [required], Input, \"email\")}\r\n      {createField(\"Password\", [required], Input, \"password\", {type: \"password\"})}\r\n      {createField(null, [], Input, \"rememberMe\", {type: \"checkbox\"}, \"Remember me\")}\r\n\r\n      { captchaUrl && <img src={captchaUrl} /> }\r\n      { captchaUrl && createField(\"Symbols from image\", [required ], Input, \"captcha\", {}) }\r\n\r\n      {error && (\r\n        <div className={classes.formSummaryError}>{error}</div>\r\n      )}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm);\r\n\r\nconst Login = (props) => {\r\n\tconst onSubmit = formData => {\r\n    props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n  };\r\n  \r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile'}/>\r\n  }\r\n\t\r\n\treturn (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>\r\n  );\t\t\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  captchaUrl: state.auth.captchaUrl,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import {getAuthUserDataThunk} from './auth-reducer'\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const initializedSuccess = () => ( { type: INITIALIZED_SUCCESS } )\r\n\r\nexport const initializedApp = () => {\r\n\treturn (dispatch) => {\r\n\t\tlet promise = dispatch(getAuthUserDataThunk())\r\n\t\tPromise.all([promise])\r\n\t\t\t.then(() => {\r\n\t\t\t\tdispatch(initializedSuccess())\r\n\t\t\t})\r\n\t}\r\n}\r\n\r\nexport default appReducer;","import {createStore, combineReducers, applyMiddleware} from 'redux'\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport appReducer from './app-reducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\n\r\nlet reducers = combineReducers ({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer\r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store\r\n\r\nexport default store;","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport UsersContainer from './components/Users/UsersContainer'\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport { Route, withRouter } from 'react-router-dom';\nimport Friends from './components/Friends/Friends';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { connect } from 'react-redux';\nimport {initializedApp} from './redux/app-reducer'\nimport { compose } from 'redux';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { withSuspense } from './hoc/withSuspense';\nimport { HashRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux';\nimport store from './redux/redux-store'\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n\nclass App  extends React.Component {\n\n  componentDidMount() {\n    this.props.initializedApp();\n  }\n\n  render() {\n    if(!this.props.initialized) {\n      return <Preloader />\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n\n        <div className=\"app-wrapper-content\">\n          <Route path=\"/dialogs\" \n            render={withSuspense(DialogsContainer)} />\n\n          <Route path=\"/profile/:userId?\" \n            render={ () => <ProfileContainer /> } />\n\n          <Route path=\"/users\" \n            render={ () => <UsersContainer /> } />\n\n          <Route path=\"/login\" \n            render={ () => <Login /> } />\n\n          <Route path=\"/news\" render={ () => <News /> } />\n          <Route path=\"/music\" render={ () => <Music /> } />\n          <Route path=\"/settings\" render={ () => <Settings /> } />\n          <Route path=\"/friends\" render={ () => <Friends /> } />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializedApp}))(App)\n\nconst MainApp = (props) => {\n  return <HashRouter>\n\t\t<Provider store={store}>\n\t\t\t<AppContainer />\n\t\t</Provider>\n\t</HashRouter>\n}\n\nexport default MainApp;","import React from 'react'\r\n\r\nexport const withSuspense = (Component) => {\r\n\treturn (props) => {\r\n\t\treturn <React.Suspense fallback={<div>Loading...</div>}>\r\n              <Component {...props} />\r\n            </React.Suspense>\r\n\t}\r\n}","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\n\n\nReactDOM.render( <MainApp />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileInfo\":\"ProfileInfo_ProfileInfo__3Ak_0\",\"photo\":\"ProfileInfo_photo__1WGA3\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2-GmJ\",\"contact\":\"ProfileInfo_contact__jg7Km\",\"formSummaryError\":\"ProfileInfo_formSummaryError__25iyI\"};","import React from 'react'\r\nimport classes from './../components/common/FormsControls/FormsControls.module.css'\r\n\r\nexport const Element = Element => ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div className={ classes.formControl + \" \" + (hasError ? classes.error : \"\") }>\r\n      <Element {...input} {...props} />\r\n      { hasError && <span> { meta.error } </span> }\r\n    </div>\r\n  );\r\n};","export const required = value => {\r\n\tif (value) return undefined\r\n\treturn 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\treturn undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userWrap\":\"Users_userWrap__2stdA\",\"userInfo\":\"Users_userInfo__3ofVe\",\"userPhoto\":\"Users_userPhoto__1CuJI\",\"userLocation\":\"Users_userLocation__2cmix\",\"userName\":\"Users_userName__2ThsJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3sCAg\",\"error\":\"FormsControls_error__3M7VN\",\"formSummaryError\":\"FormsControls_formSummaryError__3W277\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginatorWrap\":\"Paginator_paginatorWrap__37-2V\",\"Paginator\":\"Paginator_Paginator__3OZR0\",\"pageNumber\":\"Paginator_pageNumber__23W_2\",\"selectedPage\":\"Paginator_selectedPage__nbP7Q\"};","module.exports = __webpack_public_path__ + \"static/media/user.e67e358c.png\";","import React from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\t\tif (!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n\t\t\t\treturn <Component {...this.props} />;\r\n\t\t}\r\n\t}\r\n\r\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n\treturn ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__2K7C1\",\"postsBlock\":\"MyPosts_postsBlock__1LEKC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MyPosts__posts\":\"Post_MyPosts__posts__1HHd8\",\"Post__item\":\"Post_Post__item__3t3YY\",\"Post__photo\":\"Post_Post__photo__2Skt2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__qCptM\",\"login\":\"Header_login__3OZlZ\"};"],"sourceRoot":""}